# VolcanoChat ğŸŒ‹

<div align="center">

**åŸºäºç«å±±å¼•æ“çš„ macOS AI è¯­éŸ³åŠ©æ‰‹**

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ macOS åŸç”Ÿåº”ç”¨ï¼Œé›†æˆç«å±±å¼•æ“ AI æœåŠ¡ï¼Œæ”¯æŒè¯­éŸ³å¯¹è¯ã€æ™ºèƒ½æˆªå›¾å’Œå¤šæ¨¡æ€äº¤äº’ã€‚

[![Swift](https://img.shields.io/badge/Swift-5.9-orange.svg)](https://swift.org)
[![Platform](https://img.shields.io/badge/Platform-macOS%2013.0+-blue.svg)](https://www.apple.com/macos/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å®‰è£…](#å®‰è£…) â€¢ [é…ç½®](#é…ç½®) â€¢ [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜) â€¢ [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ) â€¢ [å¼€å‘](#å¼€å‘)

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– AI å¯¹è¯
- **æ™ºèƒ½å›å¤**ï¼šé›†æˆç«å±±å¼•æ“è±†åŒ…å¤§æ¨¡å‹ï¼Œé»˜è®¤ä½¿ç”¨ `doubao-seed-1-6-lite-251015`
- **æµå¼å“åº”**ï¼šå®æ—¶æ˜¾ç¤º AI å›å¤ï¼Œæ— éœ€ç­‰å¾…
- **Markdown æ¸²æŸ“**ï¼šæ”¯æŒä»£ç é«˜äº®ã€åˆ—è¡¨ã€å¼•ç”¨ç­‰æ ¼å¼
- **é»˜è®¤ä¼˜åŒ–**ï¼šå†…ç½®ç®€æ´å›å¤æç¤ºè¯ï¼ŒAI å›ç­”æ›´ç²¾å‡†é«˜æ•ˆ
- **ä¼šè¯ç®¡ç†**ï¼šä¿ç•™å¯¹è¯å†å²ï¼Œæ”¯æŒæ¸…ç©ºä¼šè¯

### ğŸ¤ è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰
- **å®æ—¶è½¬æ–‡å­—**ï¼šç«å±±å¼•æ“ ASR æœåŠ¡ï¼Œè¯†åˆ«å‡†ç¡®ç‡é«˜
- **åŒæ¨¡å¼å½•éŸ³**ï¼š
  - å…¨å±€å½•éŸ³ï¼šæŒ‰ä½å¿«æ·é”®éšæ—¶å½•éŸ³
  - æˆªå›¾å†…å½•éŸ³ï¼šæˆªå›¾åå¯ç»§ç»­å½•éŸ³ï¼Œå‘é€å›¾ç‰‡+æ–‡å­—
- **å¯è§†åŒ–åé¦ˆ**ï¼šç²¾ç¾çš„å½•éŸ³åŠ¨ç”»ï¼ˆè„‰å†²æ³¢ + éŸ³é‡æ³¢å½¢ï¼‰
- **é«˜è´¨é‡éŸ³é¢‘**ï¼š16kHz WAV æ ¼å¼ï¼Œä¿è¯è¯†åˆ«è´¨é‡

### ğŸ”Š è¯­éŸ³åˆæˆï¼ˆTTSï¼‰
- **è‡ªåŠ¨æ’­æŠ¥**ï¼šAI å›å¤å¯è‡ªåŠ¨è½¬è¯­éŸ³æ’­æ”¾ï¼ˆé»˜è®¤å¼€å¯ï¼‰
- **æ ¼å¼æ¸…ç†**ï¼šè‡ªåŠ¨ç§»é™¤ Markdown æ ¼å¼ç¬¦å·ï¼Œåªæœ—è¯»çº¯æ–‡æœ¬
- **æµç•…ä½“éªŒ**ï¼šæ”¯æŒå¤šç§éŸ³è‰²ï¼Œè¯­éŸ³è‡ªç„¶æµç•…

### âŒ¨ï¸ å…¨å±€å¿«æ·é”®
- **å½•éŸ³å¿«æ·é”®**ï¼ˆé»˜è®¤ `âŒ¥ Option`ï¼‰ï¼š
  - æŒ‰ä¸‹å¼€å§‹å½•éŸ³ï¼Œæ¾å¼€è‡ªåŠ¨è¯†åˆ«å¹¶å‘é€
  - ç²¾ç¾æ‚¬æµ®çª—æ˜¾ç¤ºå½•éŸ³çŠ¶æ€
  - ä¸‰å±‚è„‰å†²åŠ¨ç”» + å®æ—¶éŸ³é‡æ³¢å½¢
- **æˆªå›¾å¿«æ·é”®**ï¼ˆé»˜è®¤ `âŒƒA Control+A`ï¼‰ï¼š
  - å…¨å±åŒºåŸŸé€‰æ‹©
  - æ”¯æŒæ¶‚é¸¦æ ‡æ³¨
  - æˆªå›¾åå¯å½•éŸ³ï¼Œå‘é€å¤šæ¨¡æ€æ¶ˆæ¯

### ğŸ“¸ æ™ºèƒ½æˆªå›¾
- **åŒºåŸŸé€‰æ‹©**ï¼šæ‹–æ‹½é€‰æ‹©ä»»æ„åŒºåŸŸ
- **æ¶‚é¸¦æ ‡æ³¨**ï¼šæ”¯æŒåœ¨æˆªå›¾ä¸Šè‡ªç”±æ¶‚é¸¦ï¼ˆçº¢è‰²ç”»ç¬”ï¼‰
- **å¤šæ¨¡æ€äº¤äº’**ï¼š
  - å•çº¯æˆªå›¾ï¼šé€‰æ‹©åŒºåŸŸåæ¾å¼€é¼ æ ‡ï¼Œè‡ªåŠ¨ä¿å­˜åˆ°å‰ªè´´æ¿
  - æˆªå›¾+è¯­éŸ³ï¼šé€‰æ‹©åŒºåŸŸåæŒ‰ä½å½•éŸ³é”®ï¼Œæ¾å¼€å‘é€å›¾ç‰‡+æ–‡å­—ç»™ AI
- **é«˜è´¨é‡**ï¼šè‡ªåŠ¨æ’é™¤åº”ç”¨çª—å£ï¼Œæ”¯æŒ Retina å’Œå¤šæ˜¾ç¤ºå™¨
- **å¿«æ·æ“ä½œ**ï¼šå³ä½¿åº”ç”¨æœªæ¿€æ´»ä¹Ÿèƒ½ä½¿ç”¨

### ğŸ–¼ï¸ å›¾ç‰‡æ¶ˆæ¯
- **å¤šå›¾ä¸Šä¼ **ï¼šè¾“å…¥æ¡†æ”¯æŒç²˜è´´å¤šå¼ å›¾ç‰‡
- **å·¦å¯¹é½æ˜¾ç¤º**ï¼šå›¾ç‰‡å’Œæ–‡å­—åœ¨æ°”æ³¡ä¸­ç»Ÿä¸€å·¦å¯¹é½
- **å…¨å±é¢„è§ˆ**ï¼šç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹å¤§å›¾

### ğŸŒ è”ç½‘æœç´¢
- **å®æ—¶æœç´¢**ï¼šAI å¯æœç´¢ç½‘ç»œè·å–æœ€æ–°ä¿¡æ¯
- **çµæ´»é…ç½®**ï¼šå¯åœ¨è®¾ç½®ä¸­å¼€å¯/å…³é—­ï¼ˆé»˜è®¤å…³é—­ï¼‰

---

## ğŸ“¦ å®‰è£…

### ç³»ç»Ÿè¦æ±‚
- macOS 13.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- ç«å±±å¼•æ“è´¦å·ï¼ˆæ–¹èˆŸå¹³å° + è¯­éŸ³æœåŠ¡ï¼‰

### ä»æºç ç¼–è¯‘
```bash
git clone https://github.com/yourusername/VolcanoChat.git
cd VolcanoChat
open VolcanoChat.xcodeproj
```

åœ¨ Xcode ä¸­ç¼–è¯‘å¹¶è¿è¡Œï¼ˆâŒ˜Rï¼‰

---

## âš™ï¸ é…ç½®

### 1. ç«å±±å¼•æ“æ–¹èˆŸå¹³å°

è®¿é—® [ç«å±±å¼•æ“æ–¹èˆŸå¹³å°](https://console.volcengine.com/ark)

1. åˆ›å»ºåº”ç”¨å¹¶è·å– **API Key**
2. åˆ›å»ºæ¨ç†æ¥å…¥ç‚¹å¹¶è·å– **Endpoint ID**ï¼ˆé€šå¸¸ä»¥ `ep-` å¼€å¤´ï¼‰

### 2. è¯­éŸ³æœåŠ¡

è®¿é—® [ç«å±±å¼•æ“è¯­éŸ³æŠ€æœ¯æ§åˆ¶å°](https://console.volcengine.com/speech)

1. åˆ›å»ºé¡¹ç›®å¹¶è·å– **App ID**
2. ç”Ÿæˆ **Access Token**

### 3. åº”ç”¨é…ç½®

æ‰“å¼€åº”ç”¨åï¼ŒæŒ‰ `âŒ˜,` è¿›å…¥è®¾ç½®ï¼š

#### æ–¹èˆŸå¹³å°é…ç½®
- **API Key**: ç²˜è´´æ–¹èˆŸå¹³å°çš„ API Key
- **æ¨¡å‹/Endpoint ID**: ç²˜è´´ Endpoint IDï¼ˆé»˜è®¤ä½¿ç”¨ `doubao-seed-1-6-lite-251015`ï¼‰

#### è¯­éŸ³æœåŠ¡é…ç½®
- **App ID**: ç²˜è´´è¯­éŸ³æœåŠ¡çš„ App ID
- **Access Token**: ç²˜è´´ Access Token

#### å¿«æ·é”®è®¾ç½®
- **å½•éŸ³å¿«æ·é”®**: ç‚¹å‡»è¾“å…¥æ¡†ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ç»„åˆï¼ˆé»˜è®¤ `âŒ¥ Option`ï¼‰
- **æˆªå›¾å¿«æ·é”®**: ç‚¹å‡»è¾“å…¥æ¡†ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ç»„åˆï¼ˆé»˜è®¤ `âŒƒA`ï¼‰

#### åŠŸèƒ½å¼€å…³
- **è‡ªåŠ¨è¯­éŸ³æ’­æŠ¥**: AI å›å¤è‡ªåŠ¨è½¬è¯­éŸ³æ’­æ”¾ï¼ˆé»˜è®¤å¼€å¯ï¼‰
- **å¯ç”¨è”ç½‘æœç´¢**: å…è®¸ AI æœç´¢å®æ—¶ä¿¡æ¯ï¼ˆé»˜è®¤å…³é—­ï¼‰

#### ç³»ç»Ÿæç¤ºè¯ï¼ˆå¯é€‰ï¼‰
- ç•™ç©ºä½¿ç”¨é»˜è®¤æç¤ºè¯ï¼š`ä½ ä¼šè¨€ç®€æ„èµ…çš„è¾“å‡ºå†…å®¹ï¼Œä¸è¦è¯´æ²¡ç”¨çš„åºŸè¯ï¼Œåªè¾“å‡ºå¿…è¦ä¿¡æ¯`
- ä¹Ÿå¯è‡ªå®šä¹‰ AI è§’è‰²å’Œè¡Œä¸º

### 4. æƒé™æˆäºˆ

é¦–æ¬¡ä½¿ç”¨æ—¶éœ€è¦æˆäºˆä»¥ä¸‹æƒé™ï¼š

- **éº¦å…‹é£æƒé™**: ç”¨äºè¯­éŸ³å½•åˆ¶
- **è¾…åŠ©åŠŸèƒ½æƒé™**: ç”¨äºå…¨å±€å¿«æ·é”®
- **å±å¹•å½•åˆ¶æƒé™**: ç”¨äºæˆªå›¾åŠŸèƒ½

---

## ğŸš€ ä½¿ç”¨è¯´æ˜

### è¯­éŸ³å¯¹è¯
1. æŒ‰ä½å½•éŸ³å¿«æ·é”®ï¼ˆé»˜è®¤ `âŒ¥ Option`ï¼‰
2. å¯¹ç€éº¦å…‹é£è¯´è¯ï¼ˆå³ä¸Šè§’æ˜¾ç¤ºå½•éŸ³åŠ¨ç”»ï¼‰
3. æ¾å¼€å¿«æ·é”®ï¼Œè‡ªåŠ¨è¯†åˆ«å¹¶å‘é€ç»™ AI
4. AI å›å¤ä¼šæ˜¾ç¤ºåœ¨å¯¹è¯çª—å£å¹¶å¯é€‰æ‹©è¯­éŸ³æ’­æŠ¥

### æ–‡å­—å¯¹è¯
1. åœ¨åº•éƒ¨è¾“å…¥æ¡†è¾“å…¥æ¶ˆæ¯
2. æŒ‰ `Enter` æˆ–ç‚¹å‡»å‘é€æŒ‰é’®
3. AI å›å¤æ”¯æŒ Markdown æ ¼å¼

### æˆªå›¾ + å‰ªè´´æ¿
1. æŒ‰ä¸‹æˆªå›¾å¿«æ·é”®ï¼ˆé»˜è®¤ `âŒƒA`ï¼‰
2. æ‹–æ‹½é¼ æ ‡é€‰æ‹©åŒºåŸŸ
3. å¯é€‰ï¼šåœ¨é€‰åŒºä¸Šæ¶‚é¸¦æ ‡æ³¨
4. æ¾å¼€é¼ æ ‡ç¡®è®¤ï¼Œæˆªå›¾ä¿å­˜åˆ°å‰ªè´´æ¿

### æˆªå›¾ + è¯­éŸ³ â†’ AIï¼ˆå¤šæ¨¡æ€ï¼‰
1. æŒ‰ä¸‹æˆªå›¾å¿«æ·é”®ï¼ˆé»˜è®¤ `âŒƒA`ï¼‰
2. æ‹–æ‹½é€‰æ‹©åŒºåŸŸ
3. å¯é€‰ï¼šæ¶‚é¸¦æ ‡æ³¨
4. æŒ‰ä½å½•éŸ³å¿«æ·é”®ï¼ˆé»˜è®¤ `âŒ¥ Option`ï¼‰
5. å¯¹ç€éº¦å…‹é£æè¿°é—®é¢˜
6. æ¾å¼€å½•éŸ³é”®ï¼Œå›¾ç‰‡+æ–‡å­—ä¸€èµ·å‘é€ç»™ AI

### å›¾ç‰‡æ¶ˆæ¯
1. åœ¨è¾“å…¥æ¡†æŒ‰ `âŒ˜V` ç²˜è´´å›¾ç‰‡
2. è¾“å…¥é—®é¢˜æ–‡å­—
3. å‘é€å AI ä¼šåˆ†æå›¾ç‰‡å†…å®¹

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **SwiftUI** - ç°ä»£åŒ– UI æ¡†æ¶
- **AppKit** - macOS åŸç”Ÿæ§ä»¶
- **Combine** - å“åº”å¼ç¼–ç¨‹

### ç³»ç»Ÿæ¡†æ¶
- **ScreenCaptureKit** - å±å¹•æˆªå›¾ï¼ˆmacOS 13+ï¼‰
- **AVFoundation** - éŸ³é¢‘å½•åˆ¶å’Œæ’­æ”¾
- **Carbon** - å…¨å±€é”®ç›˜äº‹ä»¶ç›‘å¬

### ç«å±±å¼•æ“é›†æˆ
- æ–¹èˆŸå¹³å° LLM APIï¼ˆæ”¯æŒæµå¼å“åº”ï¼‰
- è¯­éŸ³è¯†åˆ« (ASR) API
- è¯­éŸ³åˆæˆ (TTS) API

### æ¶æ„æ¨¡å¼
- **MVVM** - Model-View-ViewModel æ¶æ„
- **@MainActor** - Swift å¹¶å‘å®‰å…¨
- **ObservableObject** - çŠ¶æ€ç®¡ç†

---

## ğŸ‘¨â€ğŸ’» å¼€å‘

### é¡¹ç›®ç»“æ„
```
VolcanoChat/
â”œâ”€â”€ App/                          # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ VolcanoChatbotApp.swift  # ä¸»åº”ç”¨
â”‚
â”œâ”€â”€ Models/                       # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ Message.swift            # æ¶ˆæ¯æ¨¡å‹
â”‚   â”œâ”€â”€ Conversation.swift       # ä¼šè¯æ¨¡å‹
â”‚   â”œâ”€â”€ AudioRecorder.swift      # éŸ³é¢‘å½•åˆ¶å™¨
â”‚   â””â”€â”€ AudioPlayer.swift        # éŸ³é¢‘æ’­æ”¾å™¨
â”‚
â”œâ”€â”€ ViewModels/                   # è§†å›¾æ¨¡å‹
â”‚   â”œâ”€â”€ ChatViewModel.swift              # èŠå¤©è§†å›¾
â”‚   â”œâ”€â”€ SettingsViewModel.swift          # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ GlobalRecordingManager.swift     # å…¨å±€å½•éŸ³ç®¡ç†
â”‚   â””â”€â”€ GlobalScreenshotManager.swift    # å…¨å±€æˆªå›¾ç®¡ç†
â”‚
â”œâ”€â”€ Views/                        # è§†å›¾å±‚
â”‚   â”œâ”€â”€ ChatView.swift                   # èŠå¤©ç•Œé¢
â”‚   â”œâ”€â”€ MessageRow.swift                 # æ¶ˆæ¯æ°”æ³¡
â”‚   â”œâ”€â”€ InputBar.swift                   # è¾“å…¥æ¡†
â”‚   â”œâ”€â”€ SettingsView.swift               # è®¾ç½®ç•Œé¢
â”‚   â”œâ”€â”€ RecordingFloatingPanel.swift     # å½•éŸ³æ‚¬æµ®çª—
â”‚   â”œâ”€â”€ ScreenshotOverlayWindow.swift    # æˆªå›¾é€‰æ‹©çª—å£
â”‚   â”œâ”€â”€ ImageAttachmentView.swift        # å›¾ç‰‡é™„ä»¶
â”‚   â””â”€â”€ MarkdownText.swift               # Markdown æ¸²æŸ“
â”‚
â”œâ”€â”€ Services/                     # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ VolcanoLLMService.swift          # å¤§è¯­è¨€æ¨¡å‹
â”‚   â”œâ”€â”€ VolcanoASRService.swift          # è¯­éŸ³è¯†åˆ«
â”‚   â”œâ”€â”€ VolcanoTTSService.swift          # è¯­éŸ³åˆæˆ
â”‚   â””â”€â”€ ConversationManager.swift        # ä¼šè¯ç®¡ç†
â”‚
â””â”€â”€ Utils/                        # å·¥å…·ç±»
    â”œâ”€â”€ GlobalHotkeyManager.swift        # å…¨å±€å¿«æ·é”®
    â”œâ”€â”€ ScreenshotCapture.swift          # æˆªå›¾æ•è·
    â”œâ”€â”€ ClipboardHelper.swift            # å‰ªè´´æ¿å·¥å…·
    â”œâ”€â”€ VolcanoConfig.swift              # é…ç½®ç®¡ç†
    â””â”€â”€ KeychainHelper.swift             # é’¥åŒ™ä¸²å­˜å‚¨
```

### æ„å»ºè¦æ±‚
- Xcode 15.0+
- Swift 5.9+
- macOS 13.0+ Deployment Target

### æ ¸å¿ƒå®ç°

#### å…¨å±€å¿«æ·é”®
ä½¿ç”¨ Carbon API ç›‘å¬ç³»ç»Ÿçº§æŒ‰é”®äº‹ä»¶ï¼š
```swift
// æ”¯æŒä¿®é¥°é”®ï¼ˆOption, Command, Controlï¼‰+ å¯é€‰æŒ‰é”®ç»„åˆ
GlobalHotkeyManager.shared.setHotkey(keyCode: keyCode, modifiers: modifiers)
```

#### æˆªå›¾æ¶‚é¸¦
åœ¨æˆªå›¾é€‰æ‹©çª—å£ä¸Šå®æ—¶ç»˜åˆ¶è·¯å¾„ï¼š
```swift
// è®°å½•è§¦æ‘¸è·¯å¾„ç‚¹ï¼Œæ¸²æŸ“åˆ°æœ€ç»ˆæˆªå›¾
func renderDrawingsOnImage(_ image: NSImage, drawings: [DrawingPath]) -> NSImage
```

#### å¤šæ¨¡æ€æ¶ˆæ¯
æ”¯æŒå›¾ç‰‡+æ–‡å­—ç»„åˆå‘é€ï¼š
```swift
await conversationManager.sendMessage(text: recognizedText, images: [imageAttachment])
```

---

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

- [ç«å±±å¼•æ“](https://www.volcengine.com/) - æä¾› AI æœåŠ¡æ”¯æŒ
- [Apple](https://www.apple.com/) - æä¾› macOS å¼€å‘æ¡†æ¶

---

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ï¼š
- æäº¤ [Issue](https://github.com/yourusername/VolcanoChat/issues)
- å‘èµ· [Pull Request](https://github.com/yourusername/VolcanoChat/pulls)

---

<div align="center">

**Made with â¤ï¸ using Swift and SwiftUI**

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

</div>
